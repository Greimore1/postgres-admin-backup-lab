CREATE ROLE app_login NOINHERIT LOGIN PASSWORD 'changeme_app' VALID UNTIL 'infinity';
CREATE ROLE app_read;
CREATE ROLE app_write;
ALTER ROLE app_login IN DATABASE postgres SET search_path = app, public;
CREATE SCHEMA IF NOT EXISTS app AUTHORIZATION postgres;
GRANT USAGE ON SCHEMA app TO app_read, app_write;
GRANT SELECT ON ALL TABLES IN SCHEMA app TO app_read;
GRANT SELECT, INSERT, UPDATE, DELETE ON ALL TABLES IN SCHEMA app TO app_write;
ALTER DEFAULT PRIVILEGES IN SCHEMA app GRANT SELECT ON TABLES TO app_read;
ALTER DEFAULT PRIVILEGES IN SCHEMA app GRANT SELECT, INSERT, UPDATE, DELETE ON TABLES TO app_write;
